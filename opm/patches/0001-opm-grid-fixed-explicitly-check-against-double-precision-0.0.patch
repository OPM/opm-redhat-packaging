From 311493626b5b6e9bd23d0ec6abac2d59f0f3ccf3 Mon Sep 17 00:00:00 2001
From: Arne Morten Kvarving <arne.morten.kvarving@sintef.no>
Date: Fri, 17 Nov 2023 14:12:43 +0100
Subject: [PATCH] fixed: explicitly check against double precision 0.0

---
 tests/cpgrid/geometry_test.cpp | 2 +-
 tests/cpgrid/grid_lgr_test.cpp | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/tests/cpgrid/geometry_test.cpp b/tests/cpgrid/geometry_test.cpp
index 26ee1e4d..af2a88d0 100644
--- a/tests/cpgrid/geometry_test.cpp
+++ b/tests/cpgrid/geometry_test.cpp
@@ -484,7 +484,7 @@ void refine_and_check(const cpgrid::Geometry<3, 3>& parent_geometry,
 
                         CHECK_COORDINATES(intersection_match.centerUnitOuterNormal(), intersection.centerUnitOuterNormal());
                         const auto& geom_match = intersection_match.geometry();
-                        BOOST_TEST(0 == 1e-11, boost::test_tools::tolerance(1e-8));
+                        BOOST_TEST(0.0 == 1e-11, boost::test_tools::tolerance(1e-8));
                         const auto& geom =  intersection.geometry();
                         BOOST_CHECK_CLOSE(geom_match.volume(), geom.volume(), 1e-6);
                         CHECK_COORDINATES(geom_match.center(), geom.center());
diff --git a/tests/cpgrid/grid_lgr_test.cpp b/tests/cpgrid/grid_lgr_test.cpp
index e4ba3a60..196d44bc 100644
--- a/tests/cpgrid/grid_lgr_test.cpp
+++ b/tests/cpgrid/grid_lgr_test.cpp
@@ -638,7 +638,7 @@ void check_global_refine(const Dune::CpGrid& refined_grid, const Dune::CpGrid& e
 
                     CHECK_COORDINATES(intersection_match.centerUnitOuterNormal(), intersection.centerUnitOuterNormal());
                     const auto& geom_match = intersection_match.geometry();
-                    BOOST_TEST(0 == 1e-11, boost::test_tools::tolerance(1e-8));
+                    BOOST_TEST(0.0 == 1e-11, boost::test_tools::tolerance(1e-8));
                     const auto& geom =  intersection.geometry();
                     BOOST_CHECK_CLOSE(geom_match.volume(), geom.volume(), 1e-6);
                     CHECK_COORDINATES(geom_match.center(), geom.center());
-- 
2.34.1

